{"version":3,"sources":["./src/app/home/home.module.ts","./src/app/home/home.page.ts","./src/app/home/home.page.html"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { Component, AfterContentInit,OnInit,ViewChild,NgZone } from '@angular/core';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\ndeclare var google;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit, AfterContentInit {\n  mypos;\n  address=\"Padrão\"; \n  place_id; \n  map;\n  diningItems = [];\n\n  geocoder = new google.maps.Geocoder;\n  GoogleAutocomplete = new google.maps.places.AutocompleteService();\n  autocomplete = { input: '' };\n  autocompleteItems = [];\n  markers = [];\n  @ViewChild('mapElement',{static:true}) mapElement;\n  ngOnInit(): void{\n\n  }\n  ngAfterContentInit():void{  \n    this.map = new google.maps.Map(this.mapElement.nativeElement, \n    {\n        center: { lat: -34.9011, lng: -56.1645 },\n        zoom: 15\n    });\n    this.tryGeolocation(); \n  }\n  constructor(private zone: NgZone,private geolocation: Geolocation) {}\n\n  updateSearchResults(){\n    if (this.autocomplete.input == '') {    \n      this.autocompleteItems = [];\n      return;\n    }\n    this.GoogleAutocomplete.getPlacePredictions({ input: this.autocomplete.input },\n    (predictions, status) => {\n      this.autocompleteItems = [];\n      this.zone.run(() => {\n        predictions.forEach((prediction) => {  \n          this.autocompleteItems.push(prediction);   \n        });\n      });\n    });\n  }\n  selectSearchResult(item){\n    this.autocompleteItems = [];\n    this.geocoder.geocode({'placeId': item.place_id}, (results, status) => {  \n      if(status === 'OK' && results[0]){\n        let position = {     \n            lat: results[0].geometry.location.lat,\n            lng: results[0].geometry.location.lng\n        };\n        let marker = new google.maps.Marker({\n          position: results[0].geometry.location,\n          map: this.map,\n        });\n        this.mypos = position;  \n        this.place_id = item.place_id; \n        this.address = results[0].formatted_address;\n        this.markers.push(marker);\n        this.map.setCenter(results[0].geometry.location);\n      }\n    })\n    \n  }\n  tryGeolocation(){  \n    this.geolocation.getCurrentPosition().then((resp) => {\n      let pos = {\n        lat: resp.coords.latitude,\n        lng: resp.coords.longitude\n      };\n      let marker = new google.maps.Marker({  \n        position: pos,\n        map: this.map,\n        title: 'I am here!'\n      });\n      this.markers.push(marker);\n      this.map.setCenter(pos);\n      this.mypos = pos;\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n    this.FindGeoCode();\n  }\n  FindGeoCode(){\n    this.geocoder.geocode({'location': this.mypos}, (results, status) => {  \n      if(status === 'OK' && results[0]){\n        this.place_id = results[0].place_id;\n      }\n    });\n  }\n  updatePosition(){\n    let service = new google.maps.places.PlacesService(this.map);\n    service.getDetails(\n      {placeId: this.place_id},\n        (results, status) =>{\n          console.log(results.formatted_address);\n          this.address = results.formatted_address;\n        }\n   );\n  console.log(this.place_id);\n  console.log(this.diningItems);\n  }\n  carrepairfinder(){\n    this.autocompleteItems = [];\n    let service = new google.maps.places.PlacesService(this.map);\n    this.geocoder.geocode({'placeId': this.place_id}, (results, status) => {\n      if(status === 'OK' && results[0]){\n        this.autocompleteItems = [];\n        service.nearbySearch({\n          location: results[0].geometry.location,\n          radius: '500',\n          types: ['car_repair'],\n        }, (near_places) => {\n            this.zone.run(() => {\n              this.diningItems = [];\n              for (var i = 0; i < near_places.length; i++) {\n                this.diningItems.push(near_places[i]);\n              }\n          });\n        })\n      }\n    })\n  }\n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar color=\"primary\">\n    <ion-title >\n      Google Busca: Oficinas\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <ion-header collapse=\"condense\" >\n    <ion-toolbar color=\"primary\">\n      <ion-title size=\"large\">Google Busca: Oficinas</ion-title>\n    </ion-toolbar>\n  </ion-header>\n  <ion-header>\n    <ion-toolbar>\n      <ion-searchbar [(ngModel)]=\"autocomplete.input\" (ionInput)=\"updateSearchResults()\" placeholder=\"Buscar por um lugar\"></ion-searchbar>\n    </ion-toolbar>\n  </ion-header>\n  <ion-list [hidden]=\"autocompleteItems.length == 0\">  \n    <ion-item *ngFor=\"let item of autocompleteItems\" tappable (click)=\"selectSearchResult(item)\">\n      {{ item.description }}\n    </ion-item>\n  </ion-list>\n  <div #mapElement class='map'></div>  <!--Mostra o Mapa-->\n  <ion-list>\n    <ion-button (click)=\"tryGeolocation()\">Minha localização</ion-button>\n    <ion-button (click)=\"updatePosition()\">Atualizar</ion-button>\n    <ion-list>\n      <ion-label ngDefaultControl [(ngModel)]=\"address\">{{address}}</ion-label>\n    </ion-list>\n    <ion-button (click)=\"carrepairfinder()\">Buscar por Oficinas</ion-button>\n    <ion-list [hidden]=\"diningItems.length == 0\">  \n      <ion-item *ngFor=\"let item of diningItems\" tappable (click)=\"selectSearchResult(item)\"> <!--Mostra resultado-->\n        {{ item.name }}\n      </ion-item>\n    </ion-list>\n  </ion-list>\n\n</ion-content>\n"],"sourceRoot":"webpack:///"}